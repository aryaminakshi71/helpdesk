{
  "version": 3,
  "sources": ["../../../../../node_modules/.bun/@orpc+server@1.13.4+64f0629d09b745d9/node_modules/@orpc/server/dist/shared/server.DZ5BIITo.mjs", "../../../../../node_modules/.bun/@orpc+server@1.13.4+64f0629d09b745d9/node_modules/@orpc/server/dist/shared/server.Bxx6tqNe.mjs", "../../../../../node_modules/.bun/@orpc+server@1.13.4+64f0629d09b745d9/node_modules/@orpc/server/dist/shared/server.TEVCLCFC.mjs", "../../../../../node_modules/.bun/@orpc+server@1.13.4+64f0629d09b745d9/node_modules/@orpc/server/dist/adapters/fetch/index.mjs"],
  "sourcesContent": ["function resolveFriendlyStandardHandleOptions(options) {\n  return {\n    ...options,\n    context: options.context ?? {}\n    // Context only optional if all fields are optional\n  };\n}\n\nexport { resolveFriendlyStandardHandleOptions as r };\n", "import { toHttpPath, StandardRPCJsonSerializer, StandardRPCSerializer } from '@orpc/client/standard';\nimport { ORPCError, toORPCError } from '@orpc/client';\nimport { toArray, intercept, runWithSpan, ORPC_NAME, isAsyncIteratorObject, asyncIteratorWithSpan, setSpanError, parseEmptyableJSON, NullProtoObj, value } from '@orpc/shared';\nimport { flattenHeader } from '@orpc/standard-server';\nimport { c as createProcedureClient, t as traverseContractProcedures, i as isProcedure, u as unlazy, g as getRouter, a as createContractedProcedure } from './server.Ds4HPpvH.mjs';\n\nclass CompositeStandardHandlerPlugin {\n  plugins;\n  constructor(plugins = []) {\n    this.plugins = [...plugins].sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\n  }\n  init(options, router) {\n    for (const plugin of this.plugins) {\n      plugin.init?.(options, router);\n    }\n  }\n}\n\nclass StandardHandler {\n  constructor(router, matcher, codec, options) {\n    this.matcher = matcher;\n    this.codec = codec;\n    const plugins = new CompositeStandardHandlerPlugin(options.plugins);\n    plugins.init(options, router);\n    this.interceptors = toArray(options.interceptors);\n    this.clientInterceptors = toArray(options.clientInterceptors);\n    this.rootInterceptors = toArray(options.rootInterceptors);\n    this.matcher.init(router);\n  }\n  interceptors;\n  clientInterceptors;\n  rootInterceptors;\n  async handle(request, options) {\n    const prefix = options.prefix?.replace(/\\/$/, \"\") || void 0;\n    if (prefix && !request.url.pathname.startsWith(`${prefix}/`) && request.url.pathname !== prefix) {\n      return { matched: false, response: void 0 };\n    }\n    return intercept(\n      this.rootInterceptors,\n      { ...options, request, prefix },\n      async (interceptorOptions) => {\n        return runWithSpan(\n          { name: `${request.method} ${request.url.pathname}` },\n          async (span) => {\n            let step;\n            try {\n              return await intercept(\n                this.interceptors,\n                interceptorOptions,\n                async ({ request: request2, context, prefix: prefix2 }) => {\n                  const method = request2.method;\n                  const url = request2.url;\n                  const pathname = prefix2 ? url.pathname.replace(prefix2, \"\") : url.pathname;\n                  const match = await runWithSpan(\n                    { name: \"find_procedure\" },\n                    () => this.matcher.match(method, `/${pathname.replace(/^\\/|\\/$/g, \"\")}`)\n                  );\n                  if (!match) {\n                    return { matched: false, response: void 0 };\n                  }\n                  span?.updateName(`${ORPC_NAME}.${match.path.join(\"/\")}`);\n                  span?.setAttribute(\"rpc.system\", ORPC_NAME);\n                  span?.setAttribute(\"rpc.method\", match.path.join(\".\"));\n                  step = \"decode_input\";\n                  let input = await runWithSpan(\n                    { name: \"decode_input\" },\n                    () => this.codec.decode(request2, match.params, match.procedure)\n                  );\n                  step = void 0;\n                  if (isAsyncIteratorObject(input)) {\n                    input = asyncIteratorWithSpan(\n                      { name: \"consume_event_iterator_input\", signal: request2.signal },\n                      input\n                    );\n                  }\n                  const client = createProcedureClient(match.procedure, {\n                    context,\n                    path: match.path,\n                    interceptors: this.clientInterceptors\n                  });\n                  step = \"call_procedure\";\n                  const output = await client(input, {\n                    signal: request2.signal,\n                    lastEventId: flattenHeader(request2.headers[\"last-event-id\"])\n                  });\n                  step = void 0;\n                  const response = this.codec.encode(output, match.procedure);\n                  return {\n                    matched: true,\n                    response\n                  };\n                }\n              );\n            } catch (e) {\n              if (step !== \"call_procedure\") {\n                setSpanError(span, e);\n              }\n              const error = step === \"decode_input\" && !(e instanceof ORPCError) ? new ORPCError(\"BAD_REQUEST\", {\n                message: `Malformed request. Ensure the request body is properly formatted and the 'Content-Type' header is set correctly.`,\n                cause: e\n              }) : toORPCError(e);\n              const response = this.codec.encodeError(error);\n              return {\n                matched: true,\n                response\n              };\n            }\n          }\n        );\n      }\n    );\n  }\n}\n\nclass StandardRPCCodec {\n  constructor(serializer) {\n    this.serializer = serializer;\n  }\n  async decode(request, _params, _procedure) {\n    const serialized = request.method === \"GET\" ? parseEmptyableJSON(request.url.searchParams.getAll(\"data\").at(-1)) : await request.body();\n    return this.serializer.deserialize(serialized);\n  }\n  encode(output, _procedure) {\n    return {\n      status: 200,\n      headers: {},\n      body: this.serializer.serialize(output)\n    };\n  }\n  encodeError(error) {\n    return {\n      status: error.status,\n      headers: {},\n      body: this.serializer.serialize(error.toJSON())\n    };\n  }\n}\n\nclass StandardRPCMatcher {\n  filter;\n  tree = new NullProtoObj();\n  pendingRouters = [];\n  constructor(options = {}) {\n    this.filter = options.filter ?? true;\n  }\n  init(router, path = []) {\n    const laziedOptions = traverseContractProcedures({ router, path }, (traverseOptions) => {\n      if (!value(this.filter, traverseOptions)) {\n        return;\n      }\n      const { path: path2, contract } = traverseOptions;\n      const httpPath = toHttpPath(path2);\n      if (isProcedure(contract)) {\n        this.tree[httpPath] = {\n          path: path2,\n          contract,\n          procedure: contract,\n          // this mean dev not used contract-first so we can used contract as procedure directly\n          router\n        };\n      } else {\n        this.tree[httpPath] = {\n          path: path2,\n          contract,\n          procedure: void 0,\n          router\n        };\n      }\n    });\n    this.pendingRouters.push(...laziedOptions.map((option) => ({\n      ...option,\n      httpPathPrefix: toHttpPath(option.path)\n    })));\n  }\n  async match(_method, pathname) {\n    if (this.pendingRouters.length) {\n      const newPendingRouters = [];\n      for (const pendingRouter of this.pendingRouters) {\n        if (pathname.startsWith(pendingRouter.httpPathPrefix)) {\n          const { default: router } = await unlazy(pendingRouter.router);\n          this.init(router, pendingRouter.path);\n        } else {\n          newPendingRouters.push(pendingRouter);\n        }\n      }\n      this.pendingRouters = newPendingRouters;\n    }\n    const match = this.tree[pathname];\n    if (!match) {\n      return void 0;\n    }\n    if (!match.procedure) {\n      const { default: maybeProcedure } = await unlazy(getRouter(match.router, match.path));\n      if (!isProcedure(maybeProcedure)) {\n        throw new Error(`\n          [Contract-First] Missing or invalid implementation for procedure at path: ${toHttpPath(match.path)}.\n          Ensure that the procedure is correctly defined and matches the expected contract.\n        `);\n      }\n      match.procedure = createContractedProcedure(maybeProcedure, match.contract);\n    }\n    return {\n      path: match.path,\n      procedure: match.procedure\n    };\n  }\n}\n\nclass StandardRPCHandler extends StandardHandler {\n  constructor(router, options = {}) {\n    const jsonSerializer = new StandardRPCJsonSerializer(options);\n    const serializer = new StandardRPCSerializer(jsonSerializer);\n    const matcher = new StandardRPCMatcher(options);\n    const codec = new StandardRPCCodec(serializer);\n    super(router, matcher, codec, options);\n  }\n}\n\nexport { CompositeStandardHandlerPlugin as C, StandardHandler as S, StandardRPCCodec as a, StandardRPCHandler as b, StandardRPCMatcher as c };\n", "import { ORPCError, fallbackContractConfig } from '@orpc/contract';\n\nconst STRICT_GET_METHOD_PLUGIN_IS_GET_METHOD_CONTEXT_SYMBOL = Symbol(\"STRICT_GET_METHOD_PLUGIN_IS_GET_METHOD_CONTEXT\");\nclass StrictGetMethodPlugin {\n  error;\n  /**\n   * make sure execute before batch plugin to get real method\n   */\n  order = 7e6;\n  constructor(options = {}) {\n    this.error = options.error ?? new ORPCError(\"METHOD_NOT_SUPPORTED\");\n  }\n  init(options) {\n    options.rootInterceptors ??= [];\n    options.clientInterceptors ??= [];\n    options.rootInterceptors.unshift((options2) => {\n      const isGetMethod = options2.request.method === \"GET\";\n      return options2.next({\n        ...options2,\n        context: {\n          ...options2.context,\n          [STRICT_GET_METHOD_PLUGIN_IS_GET_METHOD_CONTEXT_SYMBOL]: isGetMethod\n        }\n      });\n    });\n    options.clientInterceptors.unshift((options2) => {\n      if (typeof options2.context[STRICT_GET_METHOD_PLUGIN_IS_GET_METHOD_CONTEXT_SYMBOL] !== \"boolean\") {\n        throw new TypeError(\"[StrictGetMethodPlugin] strict GET method context has been corrupted or modified by another plugin or interceptor\");\n      }\n      const procedureMethod = fallbackContractConfig(\"defaultMethod\", options2.procedure[\"~orpc\"].route.method);\n      if (options2.context[STRICT_GET_METHOD_PLUGIN_IS_GET_METHOD_CONTEXT_SYMBOL] && procedureMethod !== \"GET\") {\n        throw this.error;\n      }\n      return options2.next();\n    });\n  }\n}\n\nexport { StrictGetMethodPlugin as S };\n", "import { ORPCError } from '@orpc/client';\nimport { toArray, intercept, resolveMaybeOptionalOptions } from '@orpc/shared';\nimport { toStandardLazyRequest, toFetchResponse } from '@orpc/standard-server-fetch';\nimport { r as resolveFriendlyStandardHandleOptions } from '../../shared/server.DZ5BIITo.mjs';\nimport '@orpc/standard-server';\nimport '@orpc/contract';\nimport { C as CompositeStandardHandlerPlugin, b as StandardRPCHandler } from '../../shared/server.Bxx6tqNe.mjs';\nimport '@orpc/client/standard';\nimport '@orpc/standard-server/batch';\nimport { S as StrictGetMethodPlugin } from '../../shared/server.TEVCLCFC.mjs';\nimport '../../shared/server.Ds4HPpvH.mjs';\n\nclass BodyLimitPlugin {\n  maxBodySize;\n  constructor(options) {\n    this.maxBodySize = options.maxBodySize;\n  }\n  initRuntimeAdapter(options) {\n    options.adapterInterceptors ??= [];\n    options.adapterInterceptors.push(async (options2) => {\n      if (!options2.request.body) {\n        return options2.next();\n      }\n      let currentBodySize = 0;\n      const rawReader = options2.request.body.getReader();\n      const reader = new ReadableStream({\n        start: async (controller) => {\n          try {\n            if (Number(options2.request.headers.get(\"content-length\")) > this.maxBodySize) {\n              controller.error(new ORPCError(\"PAYLOAD_TOO_LARGE\"));\n              return;\n            }\n            while (true) {\n              const { done, value } = await rawReader.read();\n              if (done) {\n                break;\n              }\n              currentBodySize += value.length;\n              if (currentBodySize > this.maxBodySize) {\n                controller.error(new ORPCError(\"PAYLOAD_TOO_LARGE\"));\n                break;\n              }\n              controller.enqueue(value);\n            }\n          } finally {\n            controller.close();\n          }\n        }\n      });\n      const requestInit = { body: reader, duplex: \"half\" };\n      return options2.next({\n        ...options2,\n        request: new Request(options2.request, requestInit)\n      });\n    });\n  }\n}\n\nconst ORDERED_SUPPORTED_ENCODINGS = [\"gzip\", \"deflate\"];\nclass CompressionPlugin {\n  encodings;\n  threshold;\n  filter;\n  constructor(options = {}) {\n    this.encodings = options.encodings ?? ORDERED_SUPPORTED_ENCODINGS;\n    this.threshold = options.threshold ?? 1024;\n    this.filter = (request, response) => {\n      const hasContentDisposition = response.headers.has(\"content-disposition\");\n      const contentType = response.headers.get(\"content-type\");\n      if (!hasContentDisposition && contentType?.startsWith(\"text/event-stream\")) {\n        return false;\n      }\n      return options.filter ? options.filter(request, response) : isCompressibleContentType(contentType);\n    };\n  }\n  initRuntimeAdapter(options) {\n    options.adapterInterceptors ??= [];\n    options.adapterInterceptors.unshift(async (options2) => {\n      const result = await options2.next();\n      if (!result.matched) {\n        return result;\n      }\n      const response = result.response;\n      if (response.headers.has(\"content-encoding\") || response.headers.has(\"transfer-encoding\") || isNoTransformCacheControl(response.headers.get(\"cache-control\"))) {\n        return result;\n      }\n      const contentLength = response.headers.get(\"content-length\");\n      if (contentLength && Number(contentLength) < this.threshold) {\n        return result;\n      }\n      const acceptEncoding = options2.request.headers.get(\"accept-encoding\")?.split(\",\").map((enc) => enc.trim().split(\";\")[0]);\n      const encoding = this.encodings.find((enc) => acceptEncoding?.includes(enc));\n      if (!response.body || encoding === void 0) {\n        return result;\n      }\n      if (!this.filter(options2.request, response)) {\n        return result;\n      }\n      const compressedBody = response.body.pipeThrough(new CompressionStream(encoding));\n      const compressedHeaders = new Headers(response.headers);\n      compressedHeaders.delete(\"content-length\");\n      compressedHeaders.set(\"content-encoding\", encoding);\n      return {\n        ...result,\n        response: new Response(compressedBody, {\n          status: response.status,\n          statusText: response.statusText,\n          headers: compressedHeaders\n        })\n      };\n    });\n  }\n}\nconst COMPRESSIBLE_CONTENT_TYPE_REGEX = /^\\s*(?:text\\/(?!event-stream(?:[;\\s]|$))[^;\\s]+|application\\/(?:javascript|json|xml|xml-dtd|ecmascript|dart|postscript|rtf|tar|toml|vnd\\.dart|vnd\\.ms-fontobject|vnd\\.ms-opentype|wasm|x-httpd-php|x-javascript|x-ns-proxy-autoconfig|x-sh|x-tar|x-virtualbox-hdd|x-virtualbox-ova|x-virtualbox-ovf|x-virtualbox-vbox|x-virtualbox-vdi|x-virtualbox-vhd|x-virtualbox-vmdk|x-www-form-urlencoded)|font\\/(?:otf|ttf)|image\\/(?:bmp|vnd\\.adobe\\.photoshop|vnd\\.microsoft\\.icon|vnd\\.ms-dds|x-icon|x-ms-bmp)|message\\/rfc822|model\\/gltf-binary|x-shader\\/x-fragment|x-shader\\/x-vertex|[^;\\s]+?\\+(?:json|text|xml|yaml))(?:[;\\s]|$)/i;\nfunction isCompressibleContentType(contentType) {\n  if (contentType === null) {\n    return false;\n  }\n  return COMPRESSIBLE_CONTENT_TYPE_REGEX.test(contentType);\n}\nconst CACHE_CONTROL_NO_TRANSFORM_REGEX = /(?:^|,)\\s*no-transform\\s*(?:,|$)/i;\nfunction isNoTransformCacheControl(cacheControl) {\n  if (cacheControl === null) {\n    return false;\n  }\n  return CACHE_CONTROL_NO_TRANSFORM_REGEX.test(cacheControl);\n}\n\nclass CompositeFetchHandlerPlugin extends CompositeStandardHandlerPlugin {\n  initRuntimeAdapter(options) {\n    for (const plugin of this.plugins) {\n      plugin.initRuntimeAdapter?.(options);\n    }\n  }\n}\n\nclass FetchHandler {\n  constructor(standardHandler, options = {}) {\n    this.standardHandler = standardHandler;\n    const plugin = new CompositeFetchHandlerPlugin(options.plugins);\n    plugin.initRuntimeAdapter(options);\n    this.adapterInterceptors = toArray(options.adapterInterceptors);\n    this.toFetchResponseOptions = options;\n  }\n  toFetchResponseOptions;\n  adapterInterceptors;\n  async handle(request, ...rest) {\n    return intercept(\n      this.adapterInterceptors,\n      {\n        ...resolveFriendlyStandardHandleOptions(resolveMaybeOptionalOptions(rest)),\n        request,\n        toFetchResponseOptions: this.toFetchResponseOptions\n      },\n      async ({ request: request2, toFetchResponseOptions, ...options }) => {\n        const standardRequest = toStandardLazyRequest(request2);\n        const result = await this.standardHandler.handle(standardRequest, options);\n        if (!result.matched) {\n          return result;\n        }\n        return {\n          matched: true,\n          response: toFetchResponse(result.response, toFetchResponseOptions)\n        };\n      }\n    );\n  }\n}\n\nclass RPCHandler extends FetchHandler {\n  constructor(router, options = {}) {\n    if (options.strictGetMethodPluginEnabled ?? true) {\n      options.plugins ??= [];\n      options.plugins.push(new StrictGetMethodPlugin());\n    }\n    super(new StandardRPCHandler(router, options), options);\n  }\n}\n\nexport { BodyLimitPlugin, CompositeFetchHandlerPlugin, CompressionPlugin, FetchHandler, RPCHandler };\n"],
  "mappings": "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",
  "names": ["value"]
}
