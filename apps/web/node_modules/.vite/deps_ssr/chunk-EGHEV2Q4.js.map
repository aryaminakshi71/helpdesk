{
  "version": 3,
  "sources": ["../../../../../node_modules/.bun/@orpc+contract@1.13.4+460773ef8ff1e07c/node_modules/@orpc/contract/dist/shared/contract.D_dZrO__.mjs", "../../../../../node_modules/.bun/@orpc+contract@1.13.4+460773ef8ff1e07c/node_modules/@orpc/contract/dist/index.mjs", "../../../../../node_modules/.bun/@orpc+server@1.13.4+64f0629d09b745d9/node_modules/@orpc/server/dist/shared/server.Ds4HPpvH.mjs"],
  "sourcesContent": ["import { fallbackORPCErrorStatus, ORPCError, isORPCErrorStatus } from '@orpc/client';\n\nclass ValidationError extends Error {\n  issues;\n  data;\n  constructor(options) {\n    super(options.message, options);\n    this.issues = options.issues;\n    this.data = options.data;\n  }\n}\nfunction mergeErrorMap(errorMap1, errorMap2) {\n  return { ...errorMap1, ...errorMap2 };\n}\nasync function validateORPCError(map, error) {\n  const { code, status, message, data, cause, defined } = error;\n  const config = map?.[error.code];\n  if (!config || fallbackORPCErrorStatus(error.code, config.status) !== error.status) {\n    return defined ? new ORPCError(code, { defined: false, status, message, data, cause }) : error;\n  }\n  if (!config.data) {\n    return defined ? error : new ORPCError(code, { defined: true, status, message, data, cause });\n  }\n  const validated = await config.data[\"~standard\"].validate(error.data);\n  if (validated.issues) {\n    return defined ? new ORPCError(code, { defined: false, status, message, data, cause }) : error;\n  }\n  return new ORPCError(code, { defined: true, status, message, data: validated.value, cause });\n}\n\nclass ContractProcedure {\n  /**\n   * This property holds the defined options for the contract procedure.\n   */\n  \"~orpc\";\n  constructor(def) {\n    if (def.route?.successStatus && isORPCErrorStatus(def.route.successStatus)) {\n      throw new Error(\"[ContractProcedure] Invalid successStatus.\");\n    }\n    if (Object.values(def.errorMap).some((val) => val && val.status && !isORPCErrorStatus(val.status))) {\n      throw new Error(\"[ContractProcedure] Invalid error status code.\");\n    }\n    this[\"~orpc\"] = def;\n  }\n}\nfunction isContractProcedure(item) {\n  if (item instanceof ContractProcedure) {\n    return true;\n  }\n  return (typeof item === \"object\" || typeof item === \"function\") && item !== null && \"~orpc\" in item && typeof item[\"~orpc\"] === \"object\" && item[\"~orpc\"] !== null && \"errorMap\" in item[\"~orpc\"] && \"route\" in item[\"~orpc\"] && \"meta\" in item[\"~orpc\"];\n}\n\nexport { ContractProcedure as C, ValidationError as V, isContractProcedure as i, mergeErrorMap as m, validateORPCError as v };\n", "import { i as isContractProcedure, C as ContractProcedure, m as mergeErrorMap, V as ValidationError } from './shared/contract.D_dZrO__.mjs';\nexport { v as validateORPCError } from './shared/contract.D_dZrO__.mjs';\nimport { toHttpPath } from '@orpc/client/standard';\nimport { toArray, isAsyncIteratorObject, get, isTypescriptObject, isPropertyKey } from '@orpc/shared';\nexport { AsyncIteratorClass } from '@orpc/shared';\nimport { mapEventIterator, ORPCError } from '@orpc/client';\nexport { ORPCError } from '@orpc/client';\n\nfunction mergeMeta(meta1, meta2) {\n  return { ...meta1, ...meta2 };\n}\n\nfunction mergeRoute(a, b) {\n  return { ...a, ...b };\n}\nfunction prefixRoute(route, prefix) {\n  if (!route.path) {\n    return route;\n  }\n  return {\n    ...route,\n    path: `${prefix}${route.path}`\n  };\n}\nfunction unshiftTagRoute(route, tags) {\n  return {\n    ...route,\n    tags: [...tags, ...route.tags ?? []]\n  };\n}\nfunction mergePrefix(a, b) {\n  return a ? `${a}${b}` : b;\n}\nfunction mergeTags(a, b) {\n  return a ? [...a, ...b] : b;\n}\nfunction enhanceRoute(route, options) {\n  let router = route;\n  if (options.prefix) {\n    router = prefixRoute(router, options.prefix);\n  }\n  if (options.tags?.length) {\n    router = unshiftTagRoute(router, options.tags);\n  }\n  return router;\n}\n\nfunction getContractRouter(router, path) {\n  let current = router;\n  for (let i = 0; i < path.length; i++) {\n    const segment = path[i];\n    if (!current) {\n      return void 0;\n    }\n    if (isContractProcedure(current)) {\n      return void 0;\n    }\n    current = current[segment];\n  }\n  return current;\n}\nfunction enhanceContractRouter(router, options) {\n  if (isContractProcedure(router)) {\n    const enhanced2 = new ContractProcedure({\n      ...router[\"~orpc\"],\n      errorMap: mergeErrorMap(options.errorMap, router[\"~orpc\"].errorMap),\n      route: enhanceRoute(router[\"~orpc\"].route, options)\n    });\n    return enhanced2;\n  }\n  const enhanced = {};\n  for (const key in router) {\n    enhanced[key] = enhanceContractRouter(router[key], options);\n  }\n  return enhanced;\n}\nfunction minifyContractRouter(router) {\n  if (isContractProcedure(router)) {\n    const procedure = {\n      \"~orpc\": {\n        errorMap: {},\n        meta: router[\"~orpc\"].meta,\n        route: router[\"~orpc\"].route\n      }\n    };\n    return procedure;\n  }\n  const json = {};\n  for (const key in router) {\n    json[key] = minifyContractRouter(router[key]);\n  }\n  return json;\n}\nfunction populateContractRouterPaths(router, options = {}) {\n  const path = toArray(options.path);\n  if (isContractProcedure(router)) {\n    if (router[\"~orpc\"].route.path === void 0) {\n      return new ContractProcedure({\n        ...router[\"~orpc\"],\n        route: {\n          ...router[\"~orpc\"].route,\n          path: toHttpPath(path)\n        }\n      });\n    }\n    return router;\n  }\n  const populated = {};\n  for (const key in router) {\n    populated[key] = populateContractRouterPaths(router[key], { ...options, path: [...path, key] });\n  }\n  return populated;\n}\n\nclass ContractBuilder extends ContractProcedure {\n  constructor(def) {\n    super(def);\n    this[\"~orpc\"].prefix = def.prefix;\n    this[\"~orpc\"].tags = def.tags;\n  }\n  /**\n   * Sets or overrides the initial meta.\n   *\n   * @see {@link https://orpc.dev/docs/metadata Metadata Docs}\n   */\n  $meta(initialMeta) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      meta: initialMeta\n    });\n  }\n  /**\n   * Sets or overrides the initial route.\n   * This option is typically relevant when integrating with OpenAPI.\n   *\n   * @see {@link https://orpc.dev/docs/openapi/routing OpenAPI Routing Docs}\n   * @see {@link https://orpc.dev/docs/openapi/input-output-structure OpenAPI Input/Output Structure Docs}\n   */\n  $route(initialRoute) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      route: initialRoute\n    });\n  }\n  /**\n   * Sets or overrides the initial input schema.\n   *\n   * @see {@link https://orpc.dev/docs/procedure#initial-configuration Initial Procedure Configuration Docs}\n   */\n  $input(initialInputSchema) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      inputSchema: initialInputSchema\n    });\n  }\n  /**\n   * Adds type-safe custom errors to the contract.\n   * The provided errors are spared-merged with any existing errors in the contract.\n   *\n   * @see {@link https://orpc.dev/docs/error-handling#type%E2%80%90safe-error-handling Type-Safe Error Handling Docs}\n   */\n  errors(errors) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      errorMap: mergeErrorMap(this[\"~orpc\"].errorMap, errors)\n    });\n  }\n  /**\n   * Sets or updates the metadata for the contract.\n   * The provided metadata is spared-merged with any existing metadata in the contract.\n   *\n   * @see {@link https://orpc.dev/docs/metadata Metadata Docs}\n   */\n  meta(meta) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      meta: mergeMeta(this[\"~orpc\"].meta, meta)\n    });\n  }\n  /**\n   * Sets or updates the route definition for the contract.\n   * The provided route is spared-merged with any existing route in the contract.\n   * This option is typically relevant when integrating with OpenAPI.\n   *\n   * @see {@link https://orpc.dev/docs/openapi/routing OpenAPI Routing Docs}\n   * @see {@link https://orpc.dev/docs/openapi/input-output-structure OpenAPI Input/Output Structure Docs}\n   */\n  route(route) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      route: mergeRoute(this[\"~orpc\"].route, route)\n    });\n  }\n  /**\n   * Defines the input validation schema for the contract.\n   *\n   * @see {@link https://orpc.dev/docs/procedure#input-output-validation Input Validation Docs}\n   */\n  input(schema) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      inputSchema: schema\n    });\n  }\n  /**\n   * Defines the output validation schema for the contract.\n   *\n   * @see {@link https://orpc.dev/docs/procedure#input-output-validation Output Validation Docs}\n   */\n  output(schema) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      outputSchema: schema\n    });\n  }\n  /**\n   * Prefixes all procedures in the contract router.\n   * The provided prefix is post-appended to any existing router prefix.\n   *\n   * @note This option does not affect procedures that do not define a path in their route definition.\n   *\n   * @see {@link https://orpc.dev/docs/openapi/routing#route-prefixes OpenAPI Route Prefixes Docs}\n   */\n  prefix(prefix) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      prefix: mergePrefix(this[\"~orpc\"].prefix, prefix)\n    });\n  }\n  /**\n   * Adds tags to all procedures in the contract router.\n   * This helpful when you want to group procedures together in the OpenAPI specification.\n   *\n   * @see {@link https://orpc.dev/docs/openapi/openapi-specification#operation-metadata OpenAPI Operation Metadata Docs}\n   */\n  tag(...tags) {\n    return new ContractBuilder({\n      ...this[\"~orpc\"],\n      tags: mergeTags(this[\"~orpc\"].tags, tags)\n    });\n  }\n  /**\n   * Applies all of the previously defined options to the specified contract router.\n   *\n   * @see {@link https://orpc.dev/docs/router#extending-router Extending Router Docs}\n   */\n  router(router) {\n    return enhanceContractRouter(router, this[\"~orpc\"]);\n  }\n}\nconst oc = new ContractBuilder({\n  errorMap: {},\n  route: {},\n  meta: {}\n});\n\nconst DEFAULT_CONFIG = {\n  defaultMethod: \"POST\",\n  defaultSuccessStatus: 200,\n  defaultSuccessDescription: \"OK\",\n  defaultInputStructure: \"compact\",\n  defaultOutputStructure: \"compact\"\n};\nfunction fallbackContractConfig(key, value) {\n  if (value === void 0) {\n    return DEFAULT_CONFIG[key];\n  }\n  return value;\n}\n\nconst EVENT_ITERATOR_DETAILS_SYMBOL = Symbol(\"ORPC_EVENT_ITERATOR_DETAILS\");\nfunction eventIterator(yields, returns) {\n  return {\n    \"~standard\": {\n      [EVENT_ITERATOR_DETAILS_SYMBOL]: { yields, returns },\n      vendor: \"orpc\",\n      version: 1,\n      validate(iterator) {\n        if (!isAsyncIteratorObject(iterator)) {\n          return { issues: [{ message: \"Expect event iterator\", path: [] }] };\n        }\n        const mapped = mapEventIterator(iterator, {\n          async value(value, done) {\n            const schema = done ? returns : yields;\n            if (!schema) {\n              return value;\n            }\n            const result = await schema[\"~standard\"].validate(value);\n            if (result.issues) {\n              throw new ORPCError(\"EVENT_ITERATOR_VALIDATION_FAILED\", {\n                message: \"Event iterator validation failed\",\n                cause: new ValidationError({\n                  issues: result.issues,\n                  message: \"Event iterator validation failed\",\n                  data: value\n                })\n              });\n            }\n            return result.value;\n          },\n          error: async (error) => error\n        });\n        return { value: mapped };\n      }\n    }\n  };\n}\nfunction getEventIteratorSchemaDetails(schema) {\n  if (schema === void 0) {\n    return void 0;\n  }\n  return schema[\"~standard\"][EVENT_ITERATOR_DETAILS_SYMBOL];\n}\n\nfunction inferRPCMethodFromContractRouter(contract) {\n  return (_, path) => {\n    const procedure = get(contract, path);\n    if (!isContractProcedure(procedure)) {\n      throw new Error(\n        `[inferRPCMethodFromContractRouter] No valid procedure found at path \"${path.join(\".\")}\". This may happen when the contract router is not properly configured.`\n      );\n    }\n    const method = fallbackContractConfig(\"defaultMethod\", procedure[\"~orpc\"].route.method);\n    return method === \"HEAD\" ? \"GET\" : method;\n  };\n}\n\nfunction type(...[map]) {\n  return {\n    \"~standard\": {\n      vendor: \"custom\",\n      version: 1,\n      async validate(value) {\n        if (map) {\n          return { value: await map(value) };\n        }\n        return { value };\n      }\n    }\n  };\n}\n\nfunction isSchemaIssue(issue) {\n  if (!isTypescriptObject(issue) || typeof issue.message !== \"string\") {\n    return false;\n  }\n  if (issue.path !== void 0) {\n    if (!Array.isArray(issue.path)) {\n      return false;\n    }\n    if (!issue.path.every((segment) => isPropertyKey(segment) || isTypescriptObject(segment) && isPropertyKey(segment.key))) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport { ContractBuilder, ContractProcedure, ValidationError, enhanceContractRouter, enhanceRoute, eventIterator, fallbackContractConfig, getContractRouter, getEventIteratorSchemaDetails, inferRPCMethodFromContractRouter, isContractProcedure, isSchemaIssue, mergeErrorMap, mergeMeta, mergePrefix, mergeRoute, mergeTags, minifyContractRouter, oc, populateContractRouterPaths, prefixRoute, type, unshiftTagRoute };\n", "import { isContractProcedure, validateORPCError, ValidationError, mergePrefix, mergeErrorMap, enhanceRoute } from '@orpc/contract';\nimport { resolveMaybeOptionalOptions, toArray, value, runWithSpan, intercept, isAsyncIteratorObject, overlayProxy, asyncIteratorWithSpan } from '@orpc/shared';\nimport { ORPCError, mapEventIterator } from '@orpc/client';\nimport { HibernationEventIterator } from '@orpc/standard-server';\n\nconst LAZY_SYMBOL = Symbol(\"ORPC_LAZY_SYMBOL\");\nfunction lazy(loader, meta = {}) {\n  return {\n    [LAZY_SYMBOL]: {\n      loader,\n      meta\n    }\n  };\n}\nfunction isLazy(item) {\n  return (typeof item === \"object\" || typeof item === \"function\") && item !== null && LAZY_SYMBOL in item;\n}\nfunction getLazyMeta(lazied) {\n  return lazied[LAZY_SYMBOL].meta;\n}\nfunction unlazy(lazied) {\n  return isLazy(lazied) ? lazied[LAZY_SYMBOL].loader() : Promise.resolve({ default: lazied });\n}\n\nfunction isStartWithMiddlewares(middlewares, compare) {\n  if (compare.length > middlewares.length) {\n    return false;\n  }\n  for (let i = 0; i < middlewares.length; i++) {\n    if (compare[i] === void 0) {\n      return true;\n    }\n    if (middlewares[i] !== compare[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction mergeMiddlewares(first, second, options) {\n  if (options.dedupeLeading && isStartWithMiddlewares(second, first)) {\n    return second;\n  }\n  return [...first, ...second];\n}\nfunction addMiddleware(middlewares, addition) {\n  return [...middlewares, addition];\n}\n\nclass Procedure {\n  /**\n   * This property holds the defined options.\n   */\n  \"~orpc\";\n  constructor(def) {\n    this[\"~orpc\"] = def;\n  }\n}\nfunction isProcedure(item) {\n  if (item instanceof Procedure) {\n    return true;\n  }\n  return isContractProcedure(item) && \"middlewares\" in item[\"~orpc\"] && \"inputValidationIndex\" in item[\"~orpc\"] && \"outputValidationIndex\" in item[\"~orpc\"] && \"handler\" in item[\"~orpc\"];\n}\n\nfunction mergeCurrentContext(context, other) {\n  return { ...context, ...other };\n}\n\nfunction createORPCErrorConstructorMap(errors) {\n  const proxy = new Proxy(errors, {\n    get(target, code) {\n      if (typeof code !== \"string\") {\n        return Reflect.get(target, code);\n      }\n      const item = (...rest) => {\n        const options = resolveMaybeOptionalOptions(rest);\n        const config = errors[code];\n        return new ORPCError(code, {\n          defined: Boolean(config),\n          status: config?.status,\n          message: options.message ?? config?.message,\n          data: options.data,\n          cause: options.cause\n        });\n      };\n      return item;\n    }\n  });\n  return proxy;\n}\n\nfunction middlewareOutputFn(output) {\n  return { output, context: {} };\n}\n\nfunction createProcedureClient(lazyableProcedure, ...rest) {\n  const options = resolveMaybeOptionalOptions(rest);\n  return async (...[input, callerOptions]) => {\n    const path = toArray(options.path);\n    const { default: procedure } = await unlazy(lazyableProcedure);\n    const clientContext = callerOptions?.context ?? {};\n    const context = await value(options.context ?? {}, clientContext);\n    const errors = createORPCErrorConstructorMap(procedure[\"~orpc\"].errorMap);\n    const validateError = async (e) => {\n      if (e instanceof ORPCError) {\n        return await validateORPCError(procedure[\"~orpc\"].errorMap, e);\n      }\n      return e;\n    };\n    try {\n      const output = await runWithSpan(\n        { name: \"call_procedure\", signal: callerOptions?.signal },\n        (span) => {\n          span?.setAttribute(\"procedure.path\", [...path]);\n          return intercept(\n            toArray(options.interceptors),\n            {\n              context,\n              input,\n              // input only optional when it undefinable so we can safely cast it\n              errors,\n              path,\n              procedure,\n              signal: callerOptions?.signal,\n              lastEventId: callerOptions?.lastEventId\n            },\n            (interceptorOptions) => executeProcedureInternal(interceptorOptions.procedure, interceptorOptions)\n          );\n        }\n      );\n      if (isAsyncIteratorObject(output)) {\n        if (output instanceof HibernationEventIterator) {\n          return output;\n        }\n        return overlayProxy(output, mapEventIterator(\n          asyncIteratorWithSpan(\n            { name: \"consume_event_iterator_output\", signal: callerOptions?.signal },\n            output\n          ),\n          {\n            value: (v) => v,\n            error: (e) => validateError(e)\n          }\n        ));\n      }\n      return output;\n    } catch (e) {\n      throw await validateError(e);\n    }\n  };\n}\nasync function validateInput(procedure, input) {\n  const schema = procedure[\"~orpc\"].inputSchema;\n  if (!schema) {\n    return input;\n  }\n  return runWithSpan(\n    { name: \"validate_input\" },\n    async () => {\n      const result = await schema[\"~standard\"].validate(input);\n      if (result.issues) {\n        throw new ORPCError(\"BAD_REQUEST\", {\n          message: \"Input validation failed\",\n          data: {\n            issues: result.issues\n          },\n          cause: new ValidationError({\n            message: \"Input validation failed\",\n            issues: result.issues,\n            data: input\n          })\n        });\n      }\n      return result.value;\n    }\n  );\n}\nasync function validateOutput(procedure, output) {\n  const schema = procedure[\"~orpc\"].outputSchema;\n  if (!schema) {\n    return output;\n  }\n  return runWithSpan(\n    { name: \"validate_output\" },\n    async () => {\n      const result = await schema[\"~standard\"].validate(output);\n      if (result.issues) {\n        throw new ORPCError(\"INTERNAL_SERVER_ERROR\", {\n          message: \"Output validation failed\",\n          cause: new ValidationError({\n            message: \"Output validation failed\",\n            issues: result.issues,\n            data: output\n          })\n        });\n      }\n      return result.value;\n    }\n  );\n}\nasync function executeProcedureInternal(procedure, options) {\n  const middlewares = procedure[\"~orpc\"].middlewares;\n  const inputValidationIndex = Math.min(Math.max(0, procedure[\"~orpc\"].inputValidationIndex), middlewares.length);\n  const outputValidationIndex = Math.min(Math.max(0, procedure[\"~orpc\"].outputValidationIndex), middlewares.length);\n  const next = async (index, context, input) => {\n    let currentInput = input;\n    if (index === inputValidationIndex) {\n      currentInput = await validateInput(procedure, currentInput);\n    }\n    const mid = middlewares[index];\n    const output = mid ? await runWithSpan(\n      { name: `middleware.${mid.name}`, signal: options.signal },\n      async (span) => {\n        span?.setAttribute(\"middleware.index\", index);\n        span?.setAttribute(\"middleware.name\", mid.name);\n        const result = await mid({\n          ...options,\n          context,\n          next: async (...[nextOptions]) => {\n            const nextContext = nextOptions?.context ?? {};\n            return {\n              output: await next(index + 1, mergeCurrentContext(context, nextContext), currentInput),\n              context: nextContext\n            };\n          }\n        }, currentInput, middlewareOutputFn);\n        return result.output;\n      }\n    ) : await runWithSpan(\n      { name: \"handler\", signal: options.signal },\n      () => procedure[\"~orpc\"].handler({ ...options, context, input: currentInput })\n    );\n    if (index === outputValidationIndex) {\n      return await validateOutput(procedure, output);\n    }\n    return output;\n  };\n  return next(0, options.context, options.input);\n}\n\nconst HIDDEN_ROUTER_CONTRACT_SYMBOL = Symbol(\"ORPC_HIDDEN_ROUTER_CONTRACT\");\nfunction setHiddenRouterContract(router, contract) {\n  return new Proxy(router, {\n    get(target, key) {\n      if (key === HIDDEN_ROUTER_CONTRACT_SYMBOL) {\n        return contract;\n      }\n      return Reflect.get(target, key);\n    }\n  });\n}\nfunction getHiddenRouterContract(router) {\n  return router[HIDDEN_ROUTER_CONTRACT_SYMBOL];\n}\n\nfunction getRouter(router, path) {\n  let current = router;\n  for (let i = 0; i < path.length; i++) {\n    const segment = path[i];\n    if (!current) {\n      return void 0;\n    }\n    if (isProcedure(current)) {\n      return void 0;\n    }\n    if (!isLazy(current)) {\n      current = current[segment];\n      continue;\n    }\n    const lazied = current;\n    const rest = path.slice(i);\n    return lazy(async () => {\n      const unwrapped = await unlazy(lazied);\n      const next = getRouter(unwrapped.default, rest);\n      return unlazy(next);\n    }, getLazyMeta(lazied));\n  }\n  return current;\n}\nfunction createAccessibleLazyRouter(lazied) {\n  const recursive = new Proxy(lazied, {\n    get(target, key) {\n      if (typeof key !== \"string\") {\n        return Reflect.get(target, key);\n      }\n      const next = getRouter(lazied, [key]);\n      return createAccessibleLazyRouter(next);\n    }\n  });\n  return recursive;\n}\nfunction enhanceRouter(router, options) {\n  if (isLazy(router)) {\n    const laziedMeta = getLazyMeta(router);\n    const enhancedPrefix = laziedMeta?.prefix ? mergePrefix(options.prefix, laziedMeta?.prefix) : options.prefix;\n    const enhanced2 = lazy(async () => {\n      const { default: unlaziedRouter } = await unlazy(router);\n      const enhanced3 = enhanceRouter(unlaziedRouter, options);\n      return unlazy(enhanced3);\n    }, {\n      ...laziedMeta,\n      prefix: enhancedPrefix\n    });\n    const accessible = createAccessibleLazyRouter(enhanced2);\n    return accessible;\n  }\n  if (isProcedure(router)) {\n    const newMiddlewares = mergeMiddlewares(options.middlewares, router[\"~orpc\"].middlewares, { dedupeLeading: options.dedupeLeadingMiddlewares });\n    const newMiddlewareAdded = newMiddlewares.length - router[\"~orpc\"].middlewares.length;\n    const enhanced2 = new Procedure({\n      ...router[\"~orpc\"],\n      route: enhanceRoute(router[\"~orpc\"].route, options),\n      errorMap: mergeErrorMap(options.errorMap, router[\"~orpc\"].errorMap),\n      middlewares: newMiddlewares,\n      inputValidationIndex: router[\"~orpc\"].inputValidationIndex + newMiddlewareAdded,\n      outputValidationIndex: router[\"~orpc\"].outputValidationIndex + newMiddlewareAdded\n    });\n    return enhanced2;\n  }\n  const enhanced = {};\n  for (const key in router) {\n    enhanced[key] = enhanceRouter(router[key], options);\n  }\n  return enhanced;\n}\nfunction traverseContractProcedures(options, callback, lazyOptions = []) {\n  let currentRouter = options.router;\n  const hiddenContract = getHiddenRouterContract(options.router);\n  if (hiddenContract !== void 0) {\n    currentRouter = hiddenContract;\n  }\n  if (isLazy(currentRouter)) {\n    lazyOptions.push({\n      router: currentRouter,\n      path: options.path\n    });\n  } else if (isContractProcedure(currentRouter)) {\n    callback({\n      contract: currentRouter,\n      path: options.path\n    });\n  } else {\n    for (const key in currentRouter) {\n      traverseContractProcedures(\n        {\n          router: currentRouter[key],\n          path: [...options.path, key]\n        },\n        callback,\n        lazyOptions\n      );\n    }\n  }\n  return lazyOptions;\n}\nasync function resolveContractProcedures(options, callback) {\n  const pending = [options];\n  for (const options2 of pending) {\n    const lazyOptions = traverseContractProcedures(options2, callback);\n    for (const options3 of lazyOptions) {\n      const { default: router } = await unlazy(options3.router);\n      pending.push({\n        router,\n        path: options3.path\n      });\n    }\n  }\n}\nasync function unlazyRouter(router) {\n  if (isProcedure(router)) {\n    return router;\n  }\n  const unlazied = {};\n  for (const key in router) {\n    const item = router[key];\n    const { default: unlaziedRouter } = await unlazy(item);\n    unlazied[key] = await unlazyRouter(unlaziedRouter);\n  }\n  return unlazied;\n}\n\nfunction createAssertedLazyProcedure(lazied) {\n  const lazyProcedure = lazy(async () => {\n    const { default: maybeProcedure } = await unlazy(lazied);\n    if (!isProcedure(maybeProcedure)) {\n      throw new Error(`\n            Expected a lazy<procedure> but got lazy<unknown>.\n            This should be caught by TypeScript compilation.\n            Please report this issue if this makes you feel uncomfortable.\n        `);\n    }\n    return { default: maybeProcedure };\n  }, getLazyMeta(lazied));\n  return lazyProcedure;\n}\nfunction createContractedProcedure(procedure, contract) {\n  return new Procedure({\n    ...procedure[\"~orpc\"],\n    errorMap: contract[\"~orpc\"].errorMap,\n    route: contract[\"~orpc\"].route,\n    meta: contract[\"~orpc\"].meta\n  });\n}\nfunction call(procedure, input, ...rest) {\n  const options = resolveMaybeOptionalOptions(rest);\n  return createProcedureClient(procedure, options)(input, options);\n}\n\nexport { LAZY_SYMBOL as L, Procedure as P, createContractedProcedure as a, addMiddleware as b, createProcedureClient as c, isLazy as d, enhanceRouter as e, createAssertedLazyProcedure as f, getRouter as g, createORPCErrorConstructorMap as h, isProcedure as i, getLazyMeta as j, middlewareOutputFn as k, lazy as l, mergeCurrentContext as m, isStartWithMiddlewares as n, mergeMiddlewares as o, call as p, getHiddenRouterContract as q, createAccessibleLazyRouter as r, setHiddenRouterContract as s, traverseContractProcedures as t, unlazy as u, resolveContractProcedures as v, unlazyRouter as w };\n"],
  "mappings": "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",
  "names": ["value", "value"]
}
